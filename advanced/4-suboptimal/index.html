<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Ivan Pepelnjak, ipSpace.net AG">
        <link rel="canonical" href="https://isis.bgplabs.net/advanced/4-suboptimal/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Suboptimal IS-IS Intra-area Routing &#171; IS-IS Labs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">IS-IS Labs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Home</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../.." class="dropdown-item">Labs Overview</a>
</li>
                                    
<li>
    <a href="../../99-about/" class="dropdown-item">About the Project</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Installation</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../1-setup/" class="dropdown-item">Installation and Setup</a>
</li>
                                    
<li>
    <a href="../../4-codespaces/" class="dropdown-item">Use GitHub Codespaces</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Basics</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../basic/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../../basic/0-frrouting/" class="dropdown-item">Configuring IS-IS on FRRouting</a>
</li>
                                    
<li>
    <a href="../../basic/1-simple-ipv4/" class="dropdown-item">Configure IS-IS Routing for IPv4</a>
</li>
                                    
<li>
    <a href="../../basic/2-explore/" class="dropdown-item">Explore IS-IS Data Structures</a>
</li>
                                    
<li>
    <a href="../../basic/3-p2p/" class="dropdown-item">IS-IS on Point-to-Point Links</a>
</li>
                                    
<li>
    <a href="../../basic/4-metric/" class="dropdown-item">Using IS-IS Metrics</a>
</li>
                                    
<li>
    <a href="../../basic/5-ipv6/" class="dropdown-item">Dual-Stack (IPv4+IPv6) IS-IS Routing</a>
</li>
                                    
<li>
    <a href="../../basic/6-level-2/" class="dropdown-item">Optimize Simple IS-IS Deployments</a>
</li>
                                    
<li>
    <a href="../../basic/7-unnumbered/" class="dropdown-item">Running IS-IS Over Unnumbered/LLA-only Interfaces</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Features</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../feature/1-passive/" class="dropdown-item">Passive IS-IS Interfaces</a>
</li>
                                    
<li>
    <a href="../../feature/2-dis/" class="dropdown-item">Influence the Designated IS Election</a>
</li>
                                    
<li>
    <a href="../../feature/3-md5/" class="dropdown-item">Protect IS-IS Routing Data with MD5 Authentication</a>
</li>
                                    
<li>
    <a href="../../feature/4-hide-transit/" class="dropdown-item">Hide Transit Subnets in IS-IS Networks</a>
</li>
                                    
<li>
    <a href="../../feature/5-drain/" class="dropdown-item">Drain Traffic Before Node Maintenance</a>
</li>
                                    
<li>
    <a href="../../feature/6-timers/" class="dropdown-item">Adjust IS-IS Timers</a>
</li>
                                    
<li>
    <a href="../../feature/7-redistribute/" class="dropdown-item">Route Redistribution into IS-IS</a>
</li>
                                    
<li>
    <a href="../../feature/8-bfd/" class="dropdown-item">Use BFD to Speed Up IS-IS Failure Detection</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Advanced</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../1-multilevel/" class="dropdown-item">Multilevel IS-IS Deployments</a>
</li>
                                    
<li>
    <a href="../2-route-leak/" class="dropdown-item">Distributing Level-2 IS-IS Routes into Level-1 Areas</a>
</li>
                                    
<li>
    <a href="../3-summarization/" class="dropdown-item">Summarizing Level-1 Routes into Level-2 Backbone</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Suboptimal IS-IS Intra-area Routing</a>
</li>
                                    
<li>
    <a href="../10-sr/" class="dropdown-item">Build an SR-MPLS Network with IS-IS</a>
</li>
                                    
<li>
    <a href="../11-ti-lfa/" class="dropdown-item">Configure IS-IS Fast Reroute Using TI-LFA</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Upcoming</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../3-upcoming/" class="dropdown-item">Overview</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../3-summarization/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../10-sr/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>

                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3">
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
  <div class="navbar-header">
      <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
          <span class="fa fa-angle-down"></span>
      </button>
  </div>

  
  
  
  
  
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary"  style="margin-bottom: 1em;">
      <ul class="nav flex-column">
          
      <li class="nav-item" data-level="1"><a href="#suboptimal-is-is-intra-area-routing" class="nav-link">Suboptimal IS-IS Intra-area Routing</a>
        <ul class="nav flex-column">
      <li class="nav-item" data-level="2"><a href="#device-requirements" class="nav-link">Device Requirements</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#starting-the-lab" class="nav-link">Starting the Lab</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#existing-device-configuration" class="nav-link">Existing Device Configuration</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#the-problem" class="nav-link">The Problem</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#aside-impact-of-area-partitioning" class="nav-link">Aside: Impact of Area Partitioning</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#configuration-task" class="nav-link">Configuration Task</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#validation" class="nav-link">Validation</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="2"><a href="#reference-information" class="nav-link">Reference Information</a>
        <ul class="nav flex-column">
      <li class="nav-item" data-level="3"><a href="#lab-wiring" class="nav-link">Lab Wiring</a>
        <ul class="nav flex-column">
        </ul>
      </li>
      <li class="nav-item" data-level="3"><a href="#lab-addressing" class="nav-link">Lab Addressing</a>
        <ul class="nav flex-column">
        </ul>
      </li>
        </ul>
      </li>
        </ul>
      </li>
      </ul>
    </div>
  
  
  
  
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="suboptimal-is-is-intra-area-routing">Suboptimal IS-IS Intra-area Routing</h1>
<p class="author-byline">By <a href="https://github.com/DanPartelly">Dan Partelly</a><br /></p>
<p>In <a href="../2-route-leak/">previous exercises</a>, we saw that every time you use level-1 areas with multiple exit points towards the level-2 IS-IS backbone, you have the potential to create suboptimal routing.</p>
<p>In this exercise, you will see how the design of a level-1 area can impact routing. You will be introduced to IS-IS in-area routing preferences and learn how to solve suboptimal routing induced by incorrect area design. Finally, you will explore what happens when a level-1 area partitions.</p>
<p><img alt="Lab topology" src="../topology-l1-split.png" /></p>
<h2 id="device-requirements">Device Requirements</h2>
<p>Use any device supported by the Netlab IS-IS configuration module that correctly implements the distribution of intra-area (level-1) routes into inter-area (level-2) backbone.</p>
<p>Unfortunately, this leaves FRRouting off the table. As of February 2026, FRRouting’s IS-IS implementation is incomplete and does not propagate level-1 IP prefixes into the level-2 LSP database as required by RFC 1195. Nevertheless, the implemented parts are solid, and FRR can be used without problems in single-level IS-IS deployments.</p>
<h2 id="starting-the-lab">Starting the Lab</h2>
<p>You can start the lab <a href="../../1-setup/">on your own lab infrastructure</a> or in <a href="https://github.com/codespaces/new/bgplab/isis">GitHub Codespaces</a> (<a href="https://bgplabs.net/4-codespaces/">more details</a>):</p>
<ul>
<li>Change directory to <code>advanced/4-suboptimal</code></li>
<li>Execute <strong>netlab up</strong></li>
<li>Log into lab devices with <strong>netlab connect</strong></li>
</ul>
<h2 id="existing-device-configuration">Existing Device Configuration</h2>
<p>After starting the lab, <em>netlab</em> configures IPv4 addresses and the IS-IS routing protocol on the lab routers. IS-IS parameters of individual lab devices are summarized in the following table:</p>
<table>
<thead>
<tr>
<th>Node</th>
<th style="text-align: right;">IS-IS Area</th>
<th style="text-align: right;">System ID</th>
<th>IS type</th>
</tr>
</thead>
<tbody>
<tr>
<td>x1</td>
<td style="text-align: right;">49.0001</td>
<td style="text-align: right;">0000.0000.0005</td>
<td>level-2</td>
</tr>
<tr>
<td>x2</td>
<td style="text-align: right;">49.0002</td>
<td style="text-align: right;">0000.0000.0006</td>
<td>level-2</td>
</tr>
<tr>
<td>r1</td>
<td style="text-align: right;">49.0100</td>
<td style="text-align: right;">0000.0000.0001</td>
<td>level-1</td>
</tr>
<tr>
<td>r2</td>
<td style="text-align: right;">49.0100</td>
<td style="text-align: right;">0000.0000.0002</td>
<td>level-1</td>
</tr>
<tr>
<td>c1</td>
<td style="text-align: right;">49.0100</td>
<td style="text-align: right;">0000.0000.0003</td>
<td>level-1-2</td>
</tr>
<tr>
<td>c2</td>
<td style="text-align: right;">49.0100</td>
<td style="text-align: right;">0000.0000.0004</td>
<td>level-1-2</td>
</tr>
</tbody>
</table>
<ul>
<li>The links between X1, C1, C2, and X2 are level-2-only high-speed links (low metric).</li>
<li>The links between C1, R1, R2, and C2 and level-1 low-speed links (high metric).</li>
</ul>
<h2 id="the-problem">The Problem</h2>
<p>Once you have examined the running configuration of your routers and are familiar with them, examine the path from C1 to R2:</p>
<p class="code-caption">Traceroute from C1 to R2<br /></p>
<pre><code>$ netlab connect c1 traceroute 10.0.0.2
Connecting to 192.168.121.103 using SSH port 22, executing traceroute 10.0.0.2
traceroute to 10.0.0.2 (10.0.0.2), 30 hops max, 60 byte packets
1  r1 (10.1.0.2)  0.050 ms  0.009 ms  0.007 ms
2  r2 (10.0.0.2)  1.103 ms  1.115 ms  1.325 ms

</code></pre>
<p>This is interesting. C1 forwards traffic toward R2 over high-cost links, even though it has a cheaper route via C2.</p>
<p>How about the traffic from C1 to C2?</p>
<p class="code-caption">Traceroute from C1 to C2<br /></p>
<pre><code>$ netlab connect c1 traceroute 10.0.0.4
Connecting to 192.168.121.103 using SSH port 22, executing traceroute 10.0.0.4
traceroute to 10.0.0.4 (10.0.0.4), 30 hops max, 60 byte packets
1  r1 (10.1.0.2)  0.052 ms  0.009 ms  0.007 ms
2  r2 (10.1.0.6)  0.955 ms  0.966 ms  1.103 ms
3  c2 (10.0.0.4)  1.473 ms  1.856 ms  2.228 ms

</code></pre>
<p>If the previous trace was interesting, this one is downright bizarre. Although C1 is directly connected to C2, the traffic from C1 to C2 uses low-speed links via R1 and R2.</p>
<p>Let&rsquo;s confirm that the link between C1 and C2 is up and that we have IS-IS running on it:</p>
<p class="code-caption">IS-IS neighbors on C1 running Arista cEOS:<br /></p>
<pre><code>$ netlab connect c1 show isis neighbors
Connecting to 192.168.121.103 using SSH port 22, executing show isis neighbors

Instance  VRF      System Id        Type Interface          SNPA              State Hold time   Circuit Id
Gandalf   default  r1               L1   Ethernet1          P2P               UP    21          12
Gandalf   default  c2               L2   Ethernet2          P2P               UP    27          17
Gandalf   default  x1               L2   Ethernet3          P2P               UP    28          00
</code></pre>
<p>That seems OK. Next, let&rsquo;s examine the routing table on C1:</p>
<p class="code-caption">Routing table of C1 running Arista cEOS<br /></p>
<pre><code>c1#show ip route | begin Gateway
Gateway of last resort is not set

I L1     10.0.0.1/32 [115/30]
via 10.1.0.2, Ethernet1
I L1     10.0.0.2/32 [115/50]
via 10.1.0.2, Ethernet1
C        10.0.0.3/32
directly connected, Loopback0
I L1     10.0.0.4/32 [115/70]
via 10.1.0.2, Ethernet1
I L2     10.0.0.5/32 [115/15]
via 10.1.0.18, Ethernet3
I L2     10.0.0.6/32 [115/20]
via 10.1.0.14, Ethernet2
C        10.1.0.0/30
directly connected, Ethernet1
I L1     10.1.0.4/30 [115/40]
via 10.1.0.2, Ethernet1
I L1     10.1.0.8/30 [115/60]
via 10.1.0.2, Ethernet1
C        10.1.0.12/30
directly connected, Ethernet2
C        10.1.0.16/30
directly connected, Ethernet3
I L2     10.1.0.20/30 [115/10]
via 10.1.0.14, Ethernet2
</code></pre>
<p>We can see that IS-IS installed a level-1 route to C2 (metric 70) in C1&rsquo;s routing table.</p>
<p>At this point, it&rsquo;s worth examining the internal IS-IS structures, particularly its interpretation of the routing table (Routing Information Base &ndash; RIB). A <strong>show isis rib</strong> command is not available on Arista cEOS (the device commonly used in IS-IS lab exercises), but works on Cisco IOL. Let&rsquo;s take advantage of Netlab&rsquo;s device abstraction power and quickly change the devices:</p>
<p class="code-caption">IS-IS Rib entry for C2, as viewed on C1 running Cisco IOL<br /></p>
<pre><code>c1#show isis rib 10.0.0.4 255.255.255.255

IPv4 local RIB for IS-IS process Gandalf

IPV4 unicast topology base (TID 0, TOPOID 0x0) =================

10.0.0.4/32  prefix attr X:0 R:0 N:1
[115/L1/70] via 10.1.0.2(Ethernet0/1), from 10.0.0.4, tag 0
prefix attr: X:0 R:0 N:1
(installed)
[115/L2/15] via 10.1.0.14(Ethernet0/2), from 10.0.0.4, tag 0
prefix attr: X:0 R:0 N:1
</code></pre>
<p>The IS-IS RIB printout from Cisco IOL clearly shows that the IS-IS process knows about both routes to 10.0.0.4/32 &ndash; an L1 route with a metric of 70 and an L2 route with a metric of 15. Regardless of the metrics, the IS-IS process installs the L1 route into the main routing table.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can reproduce the same information from the IS-IS database, but it&rsquo;s much nicer to have a direct view of the routing process RIB.</p>
</div>
<p>This IS-IS behavior is documented in <a href="https://datatracker.ietf.org/doc/html/rfc1195">RFC 1195</a> - chapter 3.10 -  Order of Preference of Routes/Dijkstra Computation:</p>
<blockquote>
<p>The Integrated IS-IS prefers routes within the area (via level 1 routing) whenever possible. If level 2 routes must be used, then routes within the routing domain (specifically, those routes using internal metrics) are preferred to routes outside of the routing domain (using external metrics).</p>
</blockquote>
<h2 id="aside-impact-of-area-partitioning">Aside: Impact of Area Partitioning</h2>
<p>Let&rsquo;s try out something: turn off the R1-R2 link (for example, shut down the R2-&gt;R1 interface on R2) to split the area 49.0100, and examine the changes in C1&rsquo;s routing table:</p>
<p class="code-caption">C1&rsquo;s routing table after L1 split, Arista cEOS:<br /></p>
<pre><code>I L1     10.0.0.1/32 [115/30]
via 10.1.0.2, Ethernet1
I L2     10.0.0.2/32 [115/35]
via 10.1.0.14, Ethernet2
C        10.0.0.3/32
directly connected, Loopback0
I L2     10.0.0.4/32 [115/15]
via 10.1.0.14, Ethernet2
I L2     10.0.0.5/32 [115/15]
via 10.1.0.18, Ethernet3
I L2     10.0.0.6/32 [115/20]
via 10.1.0.14, Ethernet2
C        10.1.0.0/30
directly connected, Ethernet1
I L2     10.1.0.8/30 [115/25]
via 10.1.0.14, Ethernet2
C        10.1.0.12/30
directly connected, Ethernet2
C        10.1.0.16/30
directly connected, Ethernet3
I L2     10.1.0.20/30 [115/10]
via 10.1.0.14, Ethernet2

</code></pre>
<p>Most L1 IS-IS routes we observed earlier are no longer present in the routing table. C2 and R2 are now directly accessible over low-cost L2 routes. Furthermore, we have complete reachability between all our routers.</p>
<p>Since we want the R1-R2 link, this is not a solution, but it suggests we might need better connectivity within the L1 area. Let&rsquo;s reenable the R1-R2 link and figure out which link we could add to the L1 area to solve the suboptimal routing problem.</p>
<h2 id="configuration-task">Configuration Task</h2>
<p>Using the <a href="../1-multilevel/#configure-is-is-circuit-types">commands</a> you mastered in the <a href="../1-multilevel/">Multilevel IS-IS Deployments</a> lab exercise, change the ISIS circuit type on the C1-C2 link to the <code>level-1-2</code> circuit.</p>
<p>This change improves connectivity within the level-1 area. The C1-C2 link is now not only a backbone link but also an intra-area link.</p>
<h2 id="validation">Validation</h2>
<p>Check the IS-IS neighbors on C1. C2 should be a level-1-2 neighbor:</p>
<p class="code-caption">IS-IS neighbors on C1 running Arista cEOS<br /></p>
<pre><code>c1#show isis neighbors

Instance  VRF      System Id        Type Interface          SNPA              State Hold time   Circuit Id
Gandalf   default  r1               L1   Ethernet1          P2P               UP    26          12
Gandalf   default  c2               L1L2 Ethernet2          P2P               UP    27          17
Gandalf   default  x1               L2   Ethernet3          P2P               UP    27          00
</code></pre>
<p>Examine the routing table on C1. It should contain an entry for C2 (10.0.0.4) with a low metric (15 on most platforms):</p>
<p class="code-caption">C1&rsquo;s routing table, Arista cEOS<br /></p>
<pre><code>c1#show ip route 10.0.0.4
...
 I L1     10.0.0.4/32 [115/15]
           via 10.1.0.14, Ethernet2
</code></pre>
<p>The routing table on C1 should also contain a route to R2 via C2:</p>
<pre><code>c1#show ip route 10.0.0.2 detail
...
 I L1     10.0.0.2/32 [115/35] PM
           via 10.1.0.14, Ethernet2 c1 -&gt; c2
</code></pre>
<p>Just to be on the safe side, let&rsquo;s redo the traceroutes:</p>
<p class="code-caption">Traceroute from C1 to R2<br /></p>
<pre><code>c1#traceroute r2
traceroute to r2 (10.0.0.2), 30 hops max, 60 byte packets
 1  c2 (10.1.0.14)  0.085 ms  0.006 ms  0.006 ms
 2  r2 (10.0.0.2)  2.048 ms  2.112 ms  2.623 ms
</code></pre>
<p><strong>Next</strong>: <a href="../10-sr/">Build an SR-MPLS Network with IS-IS</a></p>
<h2 id="reference-information">Reference Information</h2>
<h3 id="lab-wiring">Lab Wiring</h3>
<table>
<thead>
<tr>
<th>Origin Device</th>
<th>Origin Port</th>
<th>Destination Device</th>
<th>Destination Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>r1</td>
<td>Ethernet1</td>
<td>c1</td>
<td>Ethernet1</td>
</tr>
<tr>
<td>r1</td>
<td>Ethernet2</td>
<td>r2</td>
<td>Ethernet1</td>
</tr>
<tr>
<td>r2</td>
<td>Ethernet2</td>
<td>c2</td>
<td>Ethernet1</td>
</tr>
<tr>
<td>c1</td>
<td>Ethernet2</td>
<td>c2</td>
<td>Ethernet2</td>
</tr>
<tr>
<td>c1</td>
<td>Ethernet3</td>
<td>x1</td>
<td>eth1</td>
</tr>
<tr>
<td>c2</td>
<td>Ethernet3</td>
<td>x2</td>
<td>eth1</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The interface names depend on the lab devices you use. The printout was generated with user routers running Arista EOS and X1/X2 running FRRouting.</p>
</div>
<h3 id="lab-addressing">Lab Addressing</h3>
<table>
<thead>
<tr>
<th>Node/Interface</th>
<th style="text-align: right;">IPv4 Address</th>
<th style="text-align: right;">IPv6 Address</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>r1</strong></td>
<td style="text-align: right;">10.0.0.1/32</td>
<td style="text-align: right;"></td>
<td>Loopback</td>
</tr>
<tr>
<td>Ethernet1</td>
<td style="text-align: right;">10.1.0.2/30</td>
<td style="text-align: right;"></td>
<td>r1 -&gt; c1</td>
</tr>
<tr>
<td>Ethernet2</td>
<td style="text-align: right;">10.1.0.5/30</td>
<td style="text-align: right;"></td>
<td>r1 -&gt; r2</td>
</tr>
<tr>
<td><strong>r2</strong></td>
<td style="text-align: right;">10.0.0.2/32</td>
<td style="text-align: right;"></td>
<td>Loopback</td>
</tr>
<tr>
<td>Ethernet1</td>
<td style="text-align: right;">10.1.0.6/30</td>
<td style="text-align: right;"></td>
<td>r2 -&gt; r1</td>
</tr>
<tr>
<td>Ethernet2</td>
<td style="text-align: right;">10.1.0.10/30</td>
<td style="text-align: right;"></td>
<td>r2 -&gt; c2</td>
</tr>
<tr>
<td><strong>c1</strong></td>
<td style="text-align: right;">10.0.0.3/32</td>
<td style="text-align: right;"></td>
<td>Loopback</td>
</tr>
<tr>
<td>Ethernet1</td>
<td style="text-align: right;">10.1.0.1/30</td>
<td style="text-align: right;"></td>
<td>c1 -&gt; r1</td>
</tr>
<tr>
<td>Ethernet2</td>
<td style="text-align: right;">10.1.0.13/30</td>
<td style="text-align: right;"></td>
<td>c1 -&gt; c2</td>
</tr>
<tr>
<td>Ethernet3</td>
<td style="text-align: right;">10.1.0.17/30</td>
<td style="text-align: right;"></td>
<td>c1 -&gt; x1</td>
</tr>
<tr>
<td><strong>c2</strong></td>
<td style="text-align: right;">10.0.0.4/32</td>
<td style="text-align: right;"></td>
<td>Loopback</td>
</tr>
<tr>
<td>Ethernet1</td>
<td style="text-align: right;">10.1.0.9/30</td>
<td style="text-align: right;"></td>
<td>c2 -&gt; r2</td>
</tr>
<tr>
<td>Ethernet2</td>
<td style="text-align: right;">10.1.0.14/30</td>
<td style="text-align: right;"></td>
<td>c2 -&gt; c1</td>
</tr>
<tr>
<td>Ethernet3</td>
<td style="text-align: right;">10.1.0.21/30</td>
<td style="text-align: right;"></td>
<td>c2 -&gt; x2</td>
</tr>
<tr>
<td><strong>x1</strong></td>
<td style="text-align: right;">10.0.0.5/32</td>
<td style="text-align: right;"></td>
<td>Loopback</td>
</tr>
<tr>
<td>eth1</td>
<td style="text-align: right;">10.1.0.18/30</td>
<td style="text-align: right;"></td>
<td>x1 -&gt; c1</td>
</tr>
<tr>
<td><strong>x2</strong></td>
<td style="text-align: right;">10.0.0.6/32</td>
<td style="text-align: right;"></td>
<td>Loopback</td>
</tr>
<tr>
<td>eth1</td>
<td style="text-align: right;">10.1.0.22/30</td>
<td style="text-align: right;"></td>
<td>x2 -&gt; c2</td>
</tr>
</tbody>
</table></div>
            </div>
        </div>

        <footer class="col-md-12">
<hr>
    <p>(C) 2023–2025 Ivan Pepelnjak (ipSpace.net AG) and contributors</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
